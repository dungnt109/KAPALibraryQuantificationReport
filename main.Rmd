---
params:
  pid: "Patient"
title: ""
fontsize: 10pt
geometry: margin=1cm
fig_width: 8
fig_height: 6
output:
  pdf_document:
    keep_tex: true
    toc: false  
    highlight: zenburn
header-includes:
- \usepackage{fancyhdr}
- \usepackage{lastpage}
- \usepackage{xcolor}
- \usepackage{tabularx}
- \usepackage{caption}
- \usepackage{makecell}

---
\definecolor{darkgreen}{HTML}{188a06}
\definecolor{darkbrown}{HTML}{A52A2A}

<!--- Define Headers and Footers --->
\fancypagestyle{plain}{%
  \renewcommand{\headrulewidth}{0pt}%
  \fancyhf{}%
  \fancyfoot[C]{\footnotesize Page \thepage\, of\, \pageref*{LastPage} page }
  \setlength\footskip{0pt}
}


\pagestyle{plain}


\begin{center}
\large\textbf{VIVA-NUS CenTRAL} \\
\large\textbf{ Yong Loo Lin School of Medicine} \\
\large\textbf{Centre for Translational Research in Acute Leukaemia (Molecular)}
\end{center}



\section*{\textbf{\underline{`r analysis_type` }}}

```{r results='asis', echo = FALSE, warning = FALSE, message=FALSE}

templates <- c("template1.Rmd", "template2.Rmd", "template3.Rmd")

text <- "hello"

#for (template in templates) {
#	include_template <- TRUE
#	if (include_template){
#  		cat(knitr::knit_child(template, quiet = TRUE))
#	}
#}

for (i in 1:nrow(runs)) {

	input_type <- runs[i, "InputType"] 

	run <- runs[i,] 

	if (input_type == "Standards") {
            result = render_KAPA_template1(run, summary)
	    summary <- result$summary 
	} else if (input_type == "Standard Curve (with samples)") {

	} else if (input_type == "Samples"){
            result = render_KAPA_template3(run, summary)
	    summary <- result$summary
	} 

	cat(result$latex) 



}

#result1 = render_template1(file_path1, summary)
#summary <- result1$summary
#result3 = render_template3(file_path3, summary)

#cat(result1$latex)
#cat(result3$latex)

#summary <- result3$summary 

cat(knitr::knit_child("summary.Rmd", quiet = TRUE))

```



